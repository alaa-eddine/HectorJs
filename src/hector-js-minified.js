var Vector2d=function(){function b(a,b){this.ab=new Float32Array(2);this.a=a;this.b=b}Object.defineProperty(b.prototype,"a",{get:function(){return this.ab[0]},set:function(a){this.ab[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"b",{get:function(){return this.ab[1]},set:function(a){this.ab[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"magnitude",{get:function(){return Math.sqrt(this.ab[0]*this.ab[0]+this.ab[1]*this.ab[1])},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"squareMagnitude",{get:function(){return this.ab[0]*this.ab[0]+this.ab[1]*this.ab[1]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"angle",{get:function(){return.5+Math.atan2(this.ab[1],this.ab[0])*(180/Math.PI)<<0},enumerable:!0,configurable:!0});b.prototype.Set=function(a,b){this.ab.set([a,b]);return this};b.prototype.SetVector=function(a){this.ab.set([a.a,a.b]);return this};b.prototype.Invert=function(){this.a*=-1;this.b*=-1;return this};b.prototype.Round=
function(){this.a=.5+this.a<<0;this.b=.5+this.b<<0;return this};b.prototype.Abs=function(){this.a=Math.abs(this.a);this.b=Math.abs(this.b);return this};b.prototype.Add=function(a){this.a+=a.a;this.b+=a.b;return this};b.prototype.AddScaled=function(a,b){this.a+=a.a*b;this.b+=a.b*b;return this};b.prototype.Subtract=function(a){this.a-=a.a;this.b-=a.b;return this};b.prototype.SubtractScaled=function(a,b){this.a-=a.a*b;this.b-=a.b*b;return this};b.prototype.Multiply=function(a,b){this.a*=a;this.b*=b||
a;return this};b.prototype.Divide=function(a,b){this.a*=a;this.b*=b||a;return this};b.prototype.Rotate=function(a){var b=Math.sin(a);a=Math.cos(a);this.a=this.a*a-this.b*b;this.b=this.a*b+this.b*a;return this};b.prototype.Project=function(a){var b=this.Dot(a)/Math.pow(a.magnitude,2);this.Set(a.ab[0],a.ab[1]);this.Multiply(b);return this};b.prototype.Reflect=function(a){var d=new b(a.b,-a.a);a=2*this.GetAngleBetween(a);0>=this.GetAngleBetweenCos(d)&&(a*=-1);this.Rotate(a);return this};b.prototype.Swap=
function(a){var b=this.ab[0],c=this.ab[1];this.a=a.ab[0];this.b=a.ab[1];a.ab[0]=b;a.ab[1]=c;return this};b.prototype.Clone=function(a){return new b(this.a,this.b)};b.prototype.Normalize=function(){var a=Math.sqrt(this.a*this.a+this.b*this.b),a=1/a;return new b(this.a*a,this.b*a)};b.prototype.Distance=function(a){var b=this.a-a.a;a=this.b-a.b;return Math.sqrt(b*b+a*a)};b.prototype.Dot=function(a){return this.a*a.a+this.b*a.b};b.prototype.Cross=function(a){return this.a*a.b-this.b*a.a};b.prototype.GetAngleBetween=
function(a){return.5+Math.acos(this.Dot(a)/(this.magnitude*a.magnitude))*(180/Math.PI)<<0};b.prototype.GetAngleBetweenCos=function(a){return.5+this.Dot(a)/(this.magnitude*a.magnitude)<<0};b.prototype.GetSinAngleBetweenSin=function(a){return.5+this.Cross(a)/(this.magnitude*a.magnitude)<<0};b.prototype.GetLeftNormal=function(){return new b(-this.ab[1],this.ab[0])};b.prototype.GetRightNormal=function(){return new b(this.ab[1],-this.ab[0])};b.prototype.IsEqualTo=function(a){return this.ab[0]==a.ab[0]&&
this.ab[1]==a.ab[1]};b.prototype.IsNormalTo=function(a){return 0===this.Dot(a)};b.prototype.IsParallelTo=function(a){return 0==this.Cross(a)};b.prototype.IsPerpendicular=function(a){return 0==this.Dot(a)};b.prototype.IsOnline=function(a){return 0==this.ab[0]*a.b-this.ab[1]*a.a};b.prototype.IsCollinear=function(a){return this.IsOnline(a)&&0<this.Dot(a)};b.prototype.IsOppositeCollinear=function(a){return this.IsOnline(a)&&0>this.Dot(a)};b.prototype.HasSameDirection=function(a){return 0<this.Dot(a)};
b.prototype.HasOppositeDirection=function(a){return 0>this.Dot(a)};b.prototype.IsUnit=function(){return 1==this.magnitude};b.prototype.IsZero=function(){return 0==this.ab[0]&&0==this.ab[1]};b.prototype.IsValid=function(){return!(Number.NaN==this.ab[0]||Number.NaN==this.ab[1])};b.prototype.Debug=function(){console.log(this.toString())};b.prototype.DrawDebug=function(a,b,c,e){a.beginPath();a.moveTo(c,e);a.lineTo(c+this.a,e+this.b);a.lineWidth=5;a.strokeStyle=b;a.stroke();a.closePath()};b.prototype.toString=
function(){return"["+this.a+":"+this.b+"]"};b.Zero=function(a){a.ab.set([0,0]);return a};b.Magnitude=function(a){return Math.sqrt(a.a*a.a+a.b*a.b)};b.SquareMagnitude=function(a){return a.a*a.a+a.b*a.b};b.Angle=function(a,b){return.5+Math.acos(a.Dot(b)/(a.magnitude*b.magnitude))*(180/Math.PI)<<0};b.ClampMagnitude=function(a,d){var c=d/Math.sqrt(a.a*a.a+a.b*a.b);return new b(a.a*c,a.b*c)};b.Distance=function(a,b){return a.Subtract(b).magnitude};b.DotProduct=function(a,b){return a.Dot(b)};b.CrossProduct=
function(a,b){return a.Cross(b)};return b}();